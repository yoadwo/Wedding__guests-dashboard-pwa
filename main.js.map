{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/material.module.ts","./src/app/services/guests/guests.service.ts","./src/environments/environment.development.ts","./src/main.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { CdkVirtualScrollViewport } from '@angular/cdk/scrolling';\nimport { Observable } from 'rxjs';\nimport { guestEM } from './models/guest';\nimport { GuestsService } from './services/guests/guests.service';\nimport { MatTableDataSource } from '@angular/material/table';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  title = 'guests-dashboard-pwa';\n  guests: guestEM[] | null;\n  rsvpLink: string;\n  dataSource: MatTableDataSource<guestEM>;\n  displayedColumns: string[] = ['recipient', 'phoneNumber', 'linkCreator', 'copyCreator', 'status'];\n\n  constructor(private guestsService: GuestsService) {\n    this.guests = null;\n    this.dataSource = new MatTableDataSource();\n    this.rsvpLink = \"\";\n  }\n  async ngOnInit(): Promise<void> {\n    this.guestsService.getGuestsInfo().subscribe(resp => {\n      this.guests = resp.data.guests;\n      this.dataSource = new MatTableDataSource(resp.data.guests);\n      this.rsvpLink = resp.data.rsvpLink;\n    })\n  }\n\n  rsvpStatus(status?: number) {\n    switch (status) {\n      case -1:\n        return 'לא מגיע';\n      case 0:\n        return 'אולי';\n      case 1:\n        return 'מגיע';\n      default:\n        return '??';\n    }\n  }\n\n  applyFilter(event: Event) {\n    const filterValue = (event.target as HTMLInputElement).value;\n    if (this.dataSource) {\n      this.dataSource.filter = filterValue.trim();\n      console.log('data', this.dataSource.data);\n      console.log('filtered', this.dataSource.filteredData);\n    }\n  }\n  \n  sendTextsToSelected(guest: guestEM) {\n    let personalised = `הי ${guest.recipient}`\n    let generic = `הנכם מוזמנים לחתונה של שירלי צדוק ויועד וולפסטל, שתיערך בעדן על המים ב-29.6. אנא אשרו השתתפותכם, בקישור הבא: `;\n    let link = this.rsvpLink + guest.phoneNumberHash;\n    let message = `${personalised}, ${generic} ${link}`;\n    let number = guest.phoneNumber;\n    window.open(`https://web.whatsapp.com/send?phone=+972${number}&text=${encodeURI(message)}`, \"_blank\");\n  }\n\n  copyToClipboard(guest: guestEM) {\n    let personalised = `הי ${guest.recipient}`\n    let generic = `הנכם מוזמנים לחתונה של שירלי צדוק ויועד וולפסטל, שתיערך בעדן על המים ב-29.6. אנא אשרו השתתפותכם, בקישור הבא: `;\n    let link = this.rsvpLink + guest.phoneNumberHash;\n    let message = `${personalised}, ${generic} ${link}`;\n    navigator.clipboard.writeText(message)\n    .then(() => {\n      console.log('Text copied to clipboard');\n    })\n    .catch((error) => {\n      console.error('Failed to copy text to clipboard:', error);\n    });\n  }\n}\n","<cdk-virtual-scroll-viewport class=\"viewport\" itemSize=\"10\">\n    <mat-form-field>\n        <mat-label>Filter</mat-label>\n        <input matInput (keyup)=\"applyFilter($event)\" placeholder=\"Ex. ium\" #input />\n    </mat-form-field>\n\n    <table mat-table fixedLayout [dataSource]=\"dataSource\" multiTemplateDataRows matSort>\n        <!-- recipient full name -->\n        <ng-container matColumnDef=\"recipient\">\n            <th mat-header-cell *matHeaderCellDef> שם המוזמן </th>\n            <td mat-cell *matCellDef=\"let element\"> {{element.recipient}} </td>\n        </ng-container>\n\n        <!-- recipient phone number -->\n        <ng-container matColumnDef=\"phoneNumber\">\n            <th mat-header-cell *matHeaderCellDef> טלפון </th>\n            <td mat-cell *matCellDef=\"let element\"> {{element.phoneNumber}} </td>\n        </ng-container>\n\n        <!-- button to open whatsapp tab with recipient and message -->\n        <ng-container matColumnDef=\"linkCreator\">\n            <th mat-header-cell *matHeaderCellDef> לחצו לשליחה לווצפ </th>\n            <td mat-cell *matCellDef=\"let element\">\n                <button mat-raised-button color=\"primary\" (click)=\"sendTextsToSelected(element)\">\n                לחצו\n            </button> </td>\n        </ng-container>\n\n        <!-- button to only copy the message to the clipboard -->\n        <ng-container matColumnDef=\"copyCreator\">\n            <th mat-header-cell *matHeaderCellDef> לחצו ליצירת הודעה </th>\n            <td mat-cell *matCellDef=\"let element\">\n                <button mat-raised-button color=\"primary\" (click)=\"copyToClipboard(element)\">\n                רק העתקה\n            </button> </td>\n        </ng-container>\n\n        <!-- recipient status -->\n        <ng-container matColumnDef=\"status\">\n            <th mat-header-cell *matHeaderCellDef> סטטוס אישור </th>\n            <td mat-cell *matCellDef=\"let element\"> {{rsvpStatus(element.status)}} </td>\n        </ng-container>\n\n        <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns\"></tr>\n        <tr class=\"mat-row\" *matNoDataRow>\n            <td class=\"mat-cell\" colspan=\"4\">No records found.</td>\n        </tr>\n    </table>\n</cdk-virtual-scroll-viewport>","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { MaterialModule } from './material.module';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    MaterialModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { NgModule } from \"@angular/core\";\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCheckboxModule } from \"@angular/material/checkbox\";\nimport { MatFormFieldModule} from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatListModule } from \"@angular/material/list\";\nimport { MatTableModule} from '@angular/material/table';\nimport { ScrollingModule} from \"@angular/cdk/scrolling\";\n\n@NgModule({\n    exports: [\n      MatButtonModule,\n      MatCheckboxModule,\n      MatFormFieldModule,\n      MatInputModule,\n      MatListModule,\n      MatTableModule,\n      ScrollingModule \n    ]\n  })\n  export class MaterialModule {}","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError, retry, map } from 'rxjs/operators';\nimport { guestEM, guestRM, guestsResponse } from 'src/app/models/guest';\nimport { environment } from 'src/environments/environment.development';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GuestsService {\n\n  constructor(private http: HttpClient) { }\n\n  getGuestsInfo(){\n    return this.http.get<guestsResponse>(environment.getGuestsInfo + '/get-guests-info')\n  }\n\n  // private handleError(error: HttpErrorResponse) {\n  //   if (error.status === 0) {\n  //     // A client-side or network error occurred. Handle it accordingly.\n  //     console.error('An error occurred:', error.error);\n  //   } else {\n  //     // The backend returned an unsuccessful response code.\n  //     // The response body may contain clues as to what went wrong.\n  //     console.error(\n  //       `Backend returned code ${error.status}, body was: `, error.error);\n  //   }\n  //   // Return an observable with a user-facing error message.\n  //   return throwError(() => new Error('Something bad happened; please try again later.'));\n  // }\n}\n","export const environment = {\n    getGuestsInfo: 'https://yemz5f82ph.execute-api.us-east-1.amazonaws.com/dev',\n    textGuests: 'https://yemz5f82ph.execute-api.us-east-1.amazonaws.com/dev',\n};\n","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":["MatTableDataSource","i0","AppComponent","constructor","guestsService","guests","dataSource","rsvpLink","ngOnInit","getGuestsInfo","subscribe","resp","data","rsvpStatus","status","applyFilter","event","filterValue","target","value","filter","trim","console","log","filteredData","sendTextsToSelected","guest","personalised","recipient","generic","link","phoneNumberHash","message","number","phoneNumber","window","open","encodeURI","copyToClipboard","navigator","clipboard","writeText","then","catch","error","selectors","decls","vars","consts","template","ctx","BrowserModule","HttpClientModule","BrowserAnimationsModule","MaterialModule","AppModule","bootstrap","declarations","imports","MatButtonModule","MatCheckboxModule","MatFormFieldModule","MatInputModule","MatListModule","MatTableModule","ScrollingModule","exports","environment","GuestsService","http","get","factory","providedIn","textGuests","__NgCli_bootstrap_1","bootstrapModule","err"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}